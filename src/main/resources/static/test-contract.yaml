openapi: 3.0.0
info:
  version: 1.1.0
  title: Spring boot test
servers:
  - url: http://localhost:8080
paths:
  /healthcheck:
    get:
      summary: Returns service status
      description: ''
      operationId: healthcheck
      tags:
        - status
      responses:
        '200':
          description: Default error sample response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "UP"
  /doubles/default:
    get:
      summary: Returns a default formatted double
      description: ''
      operationId: default-double
      tags:
        - doubles
      parameters:
        - $ref: "#/components/parameters/doubleParam"
      responses:
        "200":
          description: "Returns a double default formatted"
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    type: number
                    format: double
  /doubles/decimal_comma:
    get:
      summary: Returns a double formatted with decimal comma
      description: ''
      operationId: decimal-double
      tags:
        - doubles
      parameters:
        - $ref: "#/components/parameters/doubleParam"
      responses:
        "200":
          description: "Returns a double formatted with decimal comma"
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    type: string
                    pattern: ^-?[0-9]+.?[0-9]*$
  /validation:
    post:
      summary: Returns OK if request is valid
      description: ''
      operationId: validation
      tags:
        - validation
      requestBody:
        $ref: "#/components/requestBodies/validationRequest"
      responses:
        "200":
          description: "Valid object provided"
components:
  parameters:
    doubleParam:
      name: double
      in: query
      description: Optional double to be returned
      schema:
        type: number
        format: double
  schemas:
    validationBody:
      title: A validation body
      type: object
      properties:
        innerClass:
          type: object
          properties:
            string:
              type: string
            integer:
              type: integer
            doubleValue:
              type: number
        array:
          type: array
          items:
            type: string
        string:
          type: string
        integer:
          type: integer
        doubleValue:
          type: number
  requestBodies:
    validationRequest:
      description: "Validation request"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/validationBody"